<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yousef Abu-Salah - Welcome</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier Prime', monospace;
            background: #f5f5f5;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .typewriter-container {
            background: #ffffff;
            width: 90%;
            max-width: 800px;
            min-height: 500px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border-radius: 12px;
            padding: 60px;
            position: relative;
            border: 1px solid #e0e0e0;
        }
        
        .paper-lines {
            position: absolute;
            top: 0;
            left: 60px;
            right: 60px;
            bottom: 0;
            background-image: repeating-linear-gradient(
                transparent,
                transparent 28px,
                #e8e8e8 28px,
                #e8e8e8 30px
            );
            pointer-events: none;
            opacity: 0.3;
        }
        
        .typewriter-content {
            font-size: 18px;
            line-height: 1.8;
            color: #333;
            position: relative;
            z-index: 2;
            min-height: 300px;
        }
        
        .cursor {
            display: inline-block;
            width: 3px;
            height: 1.2em;
            background: #333;
            animation: blink 1s infinite;
            vertical-align: text-bottom;
            margin-left: 2px;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .fade-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #f5f5f5;
            opacity: 0;
            pointer-events: none;
            transition: opacity 2s ease;
            z-index: 1000;
        }
        
        .fade-overlay.active {
            opacity: 1;
        }
        
        /* Subtle typewriter sounds visualization */
        .sound-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4a90e2;
            opacity: 0;
            animation: soundPulse 0.1s ease;
        }
        
        @keyframes soundPulse {
            0% { opacity: 0; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.2); }
            100% { opacity: 0; transform: scale(1); }
        }
        
        /* Paper texture */
        .typewriter-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, transparent 20%, rgba(255,255,255,0.3) 21%, rgba(255,255,255,0.3) 34%, transparent 35%, transparent),
                linear-gradient(0deg, transparent 24%, rgba(255,255,255,0.05) 25%, rgba(255,255,255,0.05) 26%, transparent 27%, transparent 74%, rgba(255,255,255,0.05) 75%, rgba(255,255,255,0.05) 76%, transparent 77%, transparent);
            border-radius: 12px;
            pointer-events: none;
        }
        
        @media (max-width: 768px) {
            .typewriter-container {
                width: 95%;
                padding: 40px 30px;
                min-height: 400px;
            }
            
            .typewriter-content {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="typewriter-container">
        <div class="paper-lines"></div>
        <div class="sound-indicator" id="soundIndicator"></div>
        <div class="typewriter-content" id="typewriterText"></div>
    </div>
    
    <div class="fade-overlay" id="fadeOverlay"></div>
    
    <script>
        const messages = [
            "Hi! My name is Yousef.",
            "",
            "Welcome to my world.",
            "",
            "I'm a photographer and storyteller.",
            "",
            "This is where my real experiences become fantastical narratives.",
            "",
            "Every story begins with something that actually happened to me...",
            "",
            "...then transforms through the voices of contributors like you.",
            "",
            "Ready to enter?",
        ];
        
        let currentMessageIndex = 0;
        let currentCharIndex = 0;
        let isTyping = true;
        const typewriterElement = document.getElementById('typewriterText');
        const soundIndicator = document.getElementById('soundIndicator');
        const fadeOverlay = document.getElementById('fadeOverlay');
        
        function showSoundIndicator() {
            soundIndicator.style.animation = 'none';
            soundIndicator.offsetHeight; // Trigger reflow
            soundIndicator.style.animation = 'soundPulse 0.1s ease';
        }
        
        function typeMessage() {
            if (currentMessageIndex >= messages.length) {
                // All messages typed, wait then fade to next page
                setTimeout(() => {
                    fadeToNextPage();
                }, 1000);
                return;
            }
            
            const currentMessage = messages[currentMessageIndex];
            
            if (currentCharIndex <= currentMessage.length) {
                const displayText = messages.slice(0, currentMessageIndex).join('\n') + 
                    (currentMessageIndex > 0 ? '\n' : '') + 
                    currentMessage.slice(0, currentCharIndex);
                
                typewriterElement.innerHTML = displayText + '<span class="cursor"></span>';
                
                if (currentCharIndex < currentMessage.length && currentMessage[currentCharIndex] !== ' ') {
                    showSoundIndicator();
                }
                
                currentCharIndex++;
                
                // Faster typing speed for web experience
                const speed = currentMessage[currentCharIndex - 1] === ' ' ? 30 : Math.random() * 40 + 20;
                setTimeout(typeMessage, speed);
            } else {
                // Message complete, move to next
                currentMessageIndex++;
                currentCharIndex = 0;
                
                // Shorter pause between messages
                setTimeout(typeMessage, currentMessageIndex < messages.length ? 300 : 800);
            }
        }
        
        function fadeToNextPage() {
            fadeOverlay.classList.add('active');
            setTimeout(() => {
                // Navigate to story page
                window.location.href = 'story.html';
            }, 2000);
        }
        
        // Start typing when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded, starting typewriter');
            setTimeout(typeMessage, 500);
        });
        
        // Fallback - also try starting after window loads
        window.addEventListener('load', function() {
            if (currentMessageIndex === 0 && currentCharIndex === 0) {
                console.log('Fallback start');
                setTimeout(typeMessage, 100);
            }
        });
        
        // Allow clicking anywhere to speed up or skip
        document.addEventListener('click', function() {
            if (currentMessageIndex < messages.length - 1) {
                // Speed up typing
                currentMessageIndex = messages.length - 2;
                currentCharIndex = messages[currentMessageIndex].length;
            } else {
                // Skip to fade
                fadeToNextPage();
            }
        });
    </script>
</body>
</html>